<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Snake — BoltArcade</title>
<style>
  html,body{height:100%;margin:0;background:#0b0f14;font-family:Inter,Arial,sans-serif;color:#e6eef6}
  .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:18px}
  .box{position:relative}
  canvas{display:block;background:#061018;border-radius:6px}
  .hud{position:absolute;left:6px;top:6px;color:#9fb6c1;font-size:14px}
  .back{position:absolute;right:6px;top:6px}
  a.backbtn{background:#0ea6a1;padding:6px 8px;border-radius:6px;color:#031617;text-decoration:none;font-weight:700}
  @media(max-width:520px){canvas{width:320px;height:320px}}
</style>
</head>
<body>
<div class="wrap">
  <div class="box">
    <div class="hud">Use WASD — Score: <span id="score">0</span></div>
    <div class="back"><a class="backbtn" href="/">&larr; Home</a></div>
    <canvas id="c" width="400" height="400"></canvas>
  </div>
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const cell = 20; const cols = canvas.width / cell; const rows = canvas.height / cell;
let snake = [{x:9,y:9}]; let dx=1, dy=0; let apple = {x:5,y:5}; let score=0; let tick=0;

function frame() {
  requestAnimationFrame(frame);
  if (++tick < 6) return; tick = 0;
  const head = {x: snake[0].x + dx, y: snake[0].y + dy};
  if (head.x < 0) head.x = cols - 1;
  if (head.x >= cols) head.x = 0;
  if (head.y < 0) head.y = rows - 1;
  if (head.y >= rows) head.y = 0;
  if (snake.some(s => s.x === head.x && s.y === head.y)) {
    snake = [{x:9,y:9}]; dx = 1; dy = 0; score = 0; document.getElementById('score').textContent = score;
  } else {
    snake.unshift(head);
    if (head.x === apple.x && head.y === apple.y) {
      score++; document.getElementById('score').textContent = score;
      apple = {x: Math.floor(Math.random() * cols), y: Math.floor(Math.random() * rows)};
    } else {
      snake.pop();
    }
  }
  ctx.fillStyle = '#021017'; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#13c6a0'; snake.forEach(s => ctx.fillRect(s.x*cell+2, s.y*cell+2, cell-4, cell-4));
  ctx.fillStyle = '#ff6b6b'; ctx.fillRect(apple.x*cell+4, apple.y*cell+4, cell-8, cell-8);
}

document.addEventListener('keydown', e => {
  const k = e.key.toLowerCase();
  if ((k === 'arrowup' || k === 'w') && dy !== 1) { dx = 0; dy = -1; }
  if ((k === 'arrowdown' || k === 's') && dy !== -1) { dx = 0; dy = 1; }
  if ((k === 'arrowleft' || k === 'a') && dx !== 1) { dx = -1; dy = 0; }
  if ((k === 'arrowright' || k === 'd') && dx !== -1) { dx = 1; dy = 0; }
});

frame();
</script>
</body>
</html>
